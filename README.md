# Precinct Data Cleaning and Processing
This repository contains scripts for generating cleaned and merged precinct-level GeoJSON files combining election, demographic, and census data.

---

## Overview
The main goal of these scripts is to combine election precinct boundaries and results with demographic and census data (race, CVAP, income) from the U.S. Census Bureau and the Redistricting Data Hub. The final outputs are GeoJSON files suitable for visualization and analysis.

---

## Folder and Script Descriptions

### `precinct_cleaning_income.py`

This script generates the target precinct-level GeoJSON files by merging:
- Precinct election data  
- Block Group–level demographic and income data  
- Census Block–level population data  

**Note:**
- The median income calculation is currently commented out because accurately prorating income data from Block Group to Precinct boundaries is challenging.  
- Precincts and Block Groups are relatively similar in size, leading to significant geographic overlap that complicates accurate data allocation.  
- For now, the focus remains on demographic and voting data.

#### Input Files
All input data are sourced from the [Redistricting Data Hub](https://redistrictingdatahub.org/).

For each state, five datasets are required:
1. Precinct – 2024 General Election Results  
2. Block Group ACS Race Data (2019–2023)  
3. Block Group ACS CVAP Race Data (2019–2023)  
4. Block Group ACS Income Data (2019–2023)  
5. Census Block 2020 Census PL 94-171 Data  

---

### `precinct_cleaning.py`

A simplified version of `precinct_cleaning_income.py`.

- Performs the same cleaning and merging steps but excludes all income-related processing.

---

### `extract_all.py`

A utility script to automate extraction of all ZIP files downloaded from the Redistricting Data Hub.  
- Prevents manual unzipping and ensures consistent folder structures across all states.

---

### `Final_Precincts/`

Contains the output GeoJSON files generated by `precinct_cleaning_income.py`.
- Each folder corresponds to a state.  
- Additional CSV files are generated to quantify loss of data from trying to move data from different geographic levels.

---

### `Simplified_maps/`

Contains simplified versions of the GeoJSON files from the `Final_Precincts` directory.  
- Simplified geometries reduce file size and improve frontend performance for web visualization.  
- No attribute data is lost; only geometric precision is reduced.

---

## Data Sources

All input datasets can be downloaded directly from the [Redistricting Data Hub](https://redistrictingdatahub.org/).  
Make sure to select data corresponding to:
- The latest available ACS 5-year estimates (2019–2023)  
- The 2020 Census for block-level population data  
- The 2024 General Election for precinct results

---

## Output

Each processed GeoJSON file contains:
- Precinct boundaries (in EPSG:4326 projection)  
- Election results (vote totals, candidate shares, etc.)  
- Demographic and CVAP data (by race)  
- *(Optional)* Income data (if later implemented)
